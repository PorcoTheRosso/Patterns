const {
  loadFixture,
} = require("@nomicfoundation/hardhat-toolbox/network-helpers");
const { expect } = require("chai");

describe("Pattern 28", function () {
  // We define a fixture to reuse the same setup in every test.
  // We use loadFixture to run this setup once, snapshot that state,
  // and reset Hardhat Network to that snapshot in every test.
  async function deployPattern() {
    const [owner] = await ethers.getSigners();

    const Pattern = await ethers.getContractFactory("TextGrid");
    const pattern = await Pattern.deploy();

    return { pattern, owner };
  }
  
  describe('getSvgData', async function () {
    it("should retrieve pattern", async function () {

      const P1_SVG = '<svg width="1000" height="1000" xmlns="http://www.w3.org/2000/svg"><rect x="0" y="0" width="100" height="100" fill="rgb(0,192,4)" /><text x="40" y="60" fill="white" font-size="40">M</text><rect x="100" y="0" width="100" height="100" fill="rgb(0,12,176)" /><text x="140" y="60" fill="white" font-size="40">M</text><rect x="200" y="0" width="100" height="100" fill="rgb(186,0,40)" /><text x="240" y="60" fill="white" font-size="40">G</text><rect x="300" y="0" width="100" height="100" fill="rgb(0,123,200)" /><text x="340" y="60" fill="white" font-size="40">M</text><rect x="400" y="0" width="100" height="100" fill="rgb(0,131,246)" /><text x="440" y="60" fill="white" font-size="40">M</text><rect x="500" y="0" width="100" height="100" fill="rgb(154,0,231)" /><text x="540" y="60" fill="white" font-size="40">G</text><rect x="600" y="0" width="100" height="100" fill="rgb(11,0,251)" /><text x="640" y="60" fill="white" font-size="40">G</text><rect x="700" y="0" width="100" height="100" fill="rgb(0,249,146)" /><text x="740" y="60" fill="white" font-size="40">M</text><rect x="800" y="0" width="100" height="100" fill="rgb(0,182,240)" /><text x="840" y="60" fill="white" font-size="40">M</text><rect x="900" y="0" width="100" height="100" fill="rgb(167,0,86)" /><text x="940" y="60" fill="white" font-size="40">G</text><rect x="0" y="100" width="100" height="100" fill="rgb(73,0,84)" /><text x="40" y="160" fill="white" font-size="40">G</text><rect x="100" y="100" width="100" height="100" fill="rgb(0,48,115)" /><text x="140" y="160" fill="white" font-size="40">M</text><rect x="200" y="100" width="100" height="100" fill="rgb(25,0,97)" /><text x="240" y="160" fill="white" font-size="40">G</text><rect x="300" y="100" width="100" height="100" fill="rgb(66,0,4)" /><text x="340" y="160" fill="white" font-size="40">G</text><rect x="400" y="100" width="100" height="100" fill="rgb(0,98,137)" /><text x="440" y="160" fill="white" font-size="40">M</text><rect x="500" y="100" width="100" height="100" fill="rgb(0,149,89)" /><text x="540" y="160" fill="white" font-size="40">M</text><rect x="600" y="100" width="100" height="100" fill="rgb(57,0,193)" /><text x="640" y="160" fill="white" font-size="40">G</text><rect x="700" y="100" width="100" height="100" fill="rgb(32,0,110)" /><text x="740" y="160" fill="white" font-size="40">G</text><rect x="800" y="100" width="100" height="100" fill="rgb(151,0,98)" /><text x="840" y="160" fill="white" font-size="40">G</text><rect x="900" y="100" width="100" height="100" fill="rgb(0,114,35)" /><text x="940" y="160" fill="white" font-size="40">M</text><rect x="0" y="200" width="100" height="100" fill="rgb(138,0,38)" /><text x="40" y="260" fill="white" font-size="40">G</text><rect x="100" y="200" width="100" height="100" fill="rgb(154,0,52)" /><text x="140" y="260" fill="white" font-size="40">G</text><rect x="200" y="200" width="100" height="100" fill="rgb(0,32,33)" /><text x="240" y="260" fill="white" font-size="40">M</text><rect x="300" y="200" width="100" height="100" fill="rgb(92,0,201)" /><text x="340" y="260" fill="white" font-size="40">G</text><rect x="400" y="200" width="100" height="100" fill="rgb(0,133,99)" /><text x="440" y="260" fill="white" font-size="40">M</text><rect x="500" y="200" width="100" height="100" fill="rgb(227,0,107)" /><text x="540" y="260" fill="white" font-size="40">G</text><rect x="600" y="200" width="100" height="100" fill="rgb(0,186,171)" /><text x="640" y="260" fill="white" font-size="40">M</text><rect x="700" y="200" width="100" height="100" fill="rgb(0,123,153)" /><text x="740" y="260" fill="white" font-size="40">M</text><rect x="800" y="200" width="100" height="100" fill="rgb(0,178,81)" /><text x="840" y="260" fill="white" font-size="40">M</text><rect x="900" y="200" width="100" height="100" fill="rgb(89,0,244)" /><text x="940" y="260" fill="white" font-size="40">G</text><rect x="0" y="300" width="100" height="100" fill="rgb(0,138,223)" /><text x="40" y="360" fill="white" font-size="40">M</text><rect x="100" y="300" width="100" height="100" fill="rgb(0,100,70)" /><text x="140" y="360" fill="white" font-size="40">M</text><rect x="200" y="300" width="100" height="100" fill="rgb(71,0,206)" /><text x="240" y="360" fill="white" font-size="40">G</text><rect x="300" y="300" width="100" height="100" fill="rgb(0,145,114)" /><text x="340" y="360" fill="white" font-size="40">M</text><rect x="400" y="300" width="100" height="100" fill="rgb(0,240,223)" /><text x="440" y="360" fill="white" font-size="40">M</text><rect x="500" y="300" width="100" height="100" fill="rgb(199,0,35)" /><text x="540" y="360" fill="white" font-size="40">G</text><rect x="600" y="300" width="100" height="100" fill="rgb(46,0,212)" /><text x="640" y="360" fill="white" font-size="40">G</text><rect x="700" y="300" width="100" height="100" fill="rgb(0,14,139)" /><text x="740" y="360" fill="white" font-size="40">M</text><rect x="800" y="300" width="100" height="100" fill="rgb(0,113,152)" /><text x="840" y="360" fill="white" font-size="40">M</text><rect x="900" y="300" width="100" height="100" fill="rgb(137,0,89)" /><text x="940" y="360" fill="white" font-size="40">G</text><rect x="0" y="400" width="100" height="100" fill="rgb(75,0,187)" /><text x="40" y="460" fill="white" font-size="40">G</text><rect x="100" y="400" width="100" height="100" fill="rgb(0,42,27)" /><text x="140" y="460" fill="white" font-size="40">M</text><rect x="200" y="400" width="100" height="100" fill="rgb(106,0,85)" /><text x="240" y="460" fill="white" font-size="40">G</text><rect x="300" y="400" width="100" height="100" fill="rgb(0,217,156)" /><text x="340" y="460" fill="white" font-size="40">M</text><rect x="400" y="400" width="100" height="100" fill="rgb(30,0,135)" /><text x="440" y="460" fill="white" font-size="40">G</text><rect x="500" y="400" width="100" height="100" fill="rgb(0,61,53)" /><text x="540" y="460" fill="white" font-size="40">M</text><rect x="600" y="400" width="100" height="100" fill="rgb(194,0,40)" /><text x="640" y="460" fill="white" font-size="40">G</text><rect x="700" y="400" width="100" height="100" fill="rgb(0,129,72)" /><text x="740" y="460" fill="white" font-size="40">M</text><rect x="800" y="400" width="100" height="100" fill="rgb(201,0,115)" /><text x="840" y="460" fill="white" font-size="40">G</text><rect x="900" y="400" width="100" height="100" fill="rgb(151,0,125)" /><text x="940" y="460" fill="white" font-size="40">G</text><rect x="0" y="500" width="100" height="100" fill="rgb(0,213,45)" /><text x="40" y="560" fill="white" font-size="40">M</text><rect x="100" y="500" width="100" height="100" fill="rgb(0,73,121)" /><text x="140" y="560" fill="white" font-size="40">M</text><rect x="200" y="500" width="100" height="100" fill="rgb(0,93,107)" /><text x="240" y="560" fill="white" font-size="40">M</text><rect x="300" y="500" width="100" height="100" fill="rgb(0,123,215)" /><text x="340" y="560" fill="white" font-size="40">M</text><rect x="400" y="500" width="100" height="100" fill="rgb(0,224,40)" /><text x="440" y="560" fill="white" font-size="40">M</text><rect x="500" y="500" width="100" height="100" fill="rgb(0,35,116)" /><text x="540" y="560" fill="white" font-size="40">M</text><rect x="600" y="500" width="100" height="100" fill="rgb(198,0,176)" /><text x="640" y="560" fill="white" font-size="40">G</text><rect x="700" y="500" width="100" height="100" fill="rgb(0,128,45)" /><text x="740" y="560" fill="white" font-size="40">M</text><rect x="800" y="500" width="100" height="100" fill="rgb(0,57,3)" /><text x="840" y="560" fill="white" font-size="40">M</text><rect x="900" y="500" width="100" height="100" fill="rgb(0,47,78)" /><text x="940" y="560" fill="white" font-size="40">M</text><rect x="0" y="600" width="100" height="100" fill="rgb(0,228,114)" /><text x="40" y="660" fill="white" font-size="40">M</text><rect x="100" y="600" width="100" height="100" fill="rgb(3,0,72)" /><text x="140" y="660" fill="white" font-size="40">G</text><rect x="200" y="600" width="100" height="100" fill="rgb(234,0,23)" /><text x="240" y="660" fill="white" font-size="40">G</text><rect x="300" y="600" width="100" height="100" fill="rgb(0,17,140)" /><text x="340" y="660" fill="white" font-size="40">M</text><rect x="400" y="600" width="100" height="100" fill="rgb(0,61,48)" /><text x="440" y="660" fill="white" font-size="40">M</text><rect x="500" y="600" width="100" height="100" fill="rgb(0,86,85)" /><text x="540" y="660" fill="white" font-size="40">M</text><rect x="600" y="600" width="100" height="100" fill="rgb(0,207,126)" /><text x="640" y="660" fill="white" font-size="40">M</text><rect x="700" y="600" width="100" height="100" fill="rgb(174,0,36)" /><text x="740" y="660" fill="white" font-size="40">G</text><rect x="800" y="600" width="100" height="100" fill="rgb(182,0,32)" /><text x="840" y="660" fill="white" font-size="40">G</text><rect x="900" y="600" width="100" height="100" fill="rgb(208,0,51)" /><text x="940" y="660" fill="white" font-size="40">G</text><rect x="0" y="700" width="100" height="100" fill="rgb(0,90,66)" /><text x="40" y="760" fill="white" font-size="40">M</text><rect x="100" y="700" width="100" height="100" fill="rgb(0,195,84)" /><text x="140" y="760" fill="white" font-size="40">M</text><rect x="200" y="700" width="100" height="100" fill="rgb(43,0,55)" /><text x="240" y="760" fill="white" font-size="40">G</text><rect x="300" y="700" width="100" height="100" fill="rgb(0,190,12)" /><text x="340" y="760" fill="white" font-size="40">M</text><rect x="400" y="700" width="100" height="100" fill="rgb(247,0,43)" /><text x="440" y="760" fill="white" font-size="40">G</text><rect x="500" y="700" width="100" height="100" fill="rgb(0,131,148)" /><text x="540" y="760" fill="white" font-size="40">M</text><rect x="600" y="700" width="100" height="100" fill="rgb(111,0,158)" /><text x="640" y="760" fill="white" font-size="40">G</text><rect x="700" y="700" width="100" height="100" fill="rgb(100,0,246)" /><text x="740" y="760" fill="white" font-size="40">G</text><rect x="800" y="700" width="100" height="100" fill="rgb(0,226,46)" /><text x="840" y="760" fill="white" font-size="40">M</text><rect x="900" y="700" width="100" height="100" fill="rgb(41,0,229)" /><text x="940" y="760" fill="white" font-size="40">G</text><rect x="0" y="800" width="100" height="100" fill="rgb(188,0,202)" /><text x="40" y="860" fill="white" font-size="40">G</text><rect x="100" y="800" width="100" height="100" fill="rgb(0,138,162)" /><text x="140" y="860" fill="white" font-size="40">M</text><rect x="200" y="800" width="100" height="100" fill="rgb(198,0,155)" /><text x="240" y="860" fill="white" font-size="40">G</text><rect x="300" y="800" width="100" height="100" fill="rgb(0,181,169)" /><text x="340" y="860" fill="white" font-size="40">M</text><rect x="400" y="800" width="100" height="100" fill="rgb(0,65,160)" /><text x="440" y="860" fill="white" font-size="40">M</text><rect x="500" y="800" width="100" height="100" fill="rgb(160,0,202)" /><text x="540" y="860" fill="white" font-size="40">G</text><rect x="600" y="800" width="100" height="100" fill="rgb(0,123,82)" /><text x="640" y="860" fill="white" font-size="40">M</text><rect x="700" y="800" width="100" height="100" fill="rgb(33,0,212)" /><text x="740" y="860" fill="white" font-size="40">G</text><rect x="800" y="800" width="100" height="100" fill="rgb(70,0,208)" /><text x="840" y="860" fill="white" font-size="40">G</text><rect x="900" y="800" width="100" height="100" fill="rgb(0,255,230)" /><text x="940" y="860" fill="white" font-size="40">M</text><rect x="0" y="900" width="100" height="100" fill="rgb(0,26,28)" /><text x="40" y="960" fill="white" font-size="40">M</text><rect x="100" y="900" width="100" height="100" fill="rgb(129,0,6)" /><text x="140" y="960" fill="white" font-size="40">G</text><rect x="200" y="900" width="100" height="100" fill="rgb(0,110,132)" /><text x="240" y="960" fill="white" font-size="40">M</text><rect x="300" y="900" width="100" height="100" fill="rgb(209,0,81)" /><text x="340" y="960" fill="white" font-size="40">G</text><rect x="400" y="900" width="100" height="100" fill="rgb(0,107,149)" /><text x="440" y="960" fill="white" font-size="40">M</text><rect x="500" y="900" width="100" height="100" fill="rgb(227,0,192)" /><text x="540" y="960" fill="white" font-size="40">G</text><rect x="600" y="900" width="100" height="100" fill="rgb(216,0,200)" /><text x="640" y="960" fill="white" font-size="40">G</text><rect x="700" y="900" width="100" height="100" fill="rgb(0,129,65)" /><text x="740" y="960" fill="white" font-size="40">M</text><rect x="800" y="900" width="100" height="100" fill="rgb(0,110,96)" /><text x="840" y="960" fill="white" font-size="40">M</text><rect x="900" y="900" width="100" height="100" fill="rgb(0,107,203)" /><text x="940" y="960" fill="white" font-size="40">M</text></svg>'

      // deploy smart contract with default values
      const { pattern, owner } = await loadFixture(deployPattern);

      const svg = await pattern.getSvgData(1)
      console.log(svg);  // This will log the actual SVG output to the console
      // we want the correct SVG
      expect(svg).to.equal(P1_SVG);
    });
  })

});
